{% extends "homepage.html" %}

{% block title %}Edit Post - Modern Flask Blog{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card-modern p-5 animate-fade-in">
            <div class="text-center mb-4">
                <div class="feature-icon">
                    <i class="bi bi-pencil-square"></i>
                </div>
                <h2 class="fw-bold mb-2">Edit Post</h2>
                <p class="text-muted">Update your blog post</p>
            </div>

            <form method="POST" action="{{ url_for('update_post', post_id=post[0]) }}">
                <div class="mb-4">
                    <label for="title" class="form-label fw-semibold">
                        <i class="bi bi-bookmark me-1"></i>Post Title
                    </label>
                    <input type="text" class="form-control form-control-lg" id="title" name="title" 
                           value="{{ post[1] }}" required placeholder="Enter post title..." maxlength="200">
                </div>

                <div class="mb-4">
                    <label for="content" class="form-label fw-semibold">
                        <i class="bi bi-journal-text me-1"></i>Post Content
                    </label>
                    <textarea class="form-control" id="content" name="content" rows="12" required 
                              placeholder="Write your post content here...">{{ post[2] }}</textarea>
                </div>

                <div class="d-flex gap-3 justify-content-center">
                    <button type="submit" class="btn btn-gradient btn-lg px-4">
                        <i class="bi bi-check-circle me-2"></i>Update Post
                    </button>
                    <a href="{{ url_for('view_posts') }}" class="btn btn-outline-secondary btn-lg px-4">
                        <i class="bi bi-x-circle me-2"></i>Cancel
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    document.querySelector('form').addEventListener('submit', function() {
        const submitBtn = this.querySelector('button[type="submit"]');
        submitBtn.innerHTML = '<i class="bi bi-hourglass-split me-2"></i>Updating...';
        submitBtn.disabled = true;
    });
</script>
{% endblock %}